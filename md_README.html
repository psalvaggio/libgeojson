<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libgeojson: GeoJSON for Modern C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libgeojson
   </div>
   <div id="projectbrief">GeoJSON for Modern C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">GeoJSON for Modern C++</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> <img src="https://github.com/psalvaggio/libgeojson/workflows/CI/badge.svg" alt="CI" style="pointer-events: none;" class="inline"/> <img src="https://github.com/psalvaggio/libgeojson/workflows/Code%20Quality/badge.svg" alt="Code Quality" style="pointer-events: none;" class="inline"/> <a href="https://psalvaggio.github.io/libgeojson/"><img src="https://img.shields.io/badge/docs-doxygen-blue.svg" alt="Documentation" style="pointer-events: none;" class="inline"/></a></p>
<p>This library serves as wrapper around <a href="https://github.com/nlohmann/json">JSON for Modern C++</a> for the GeoJSON (<a href="https://tools.ietf.org/html/rfc7946">RFC 7946</a>) standard. This library provides a set of functions to create GeoJSON objects in the form of <code>nlohmann::json</code> objects. This library does not assume any geometry data types and instead uses a callback interface to allow the user to encode their own data types into GeoJSON.</p>
<p>For all positions in this library, the longitude and latitude are in decimal degrees and altitude is a WGS84 ellipsoidal altitude in meters.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Serialization</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Point</h2>
<p>In order to encode a Point, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Point()</a></code>. For example,</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> j2d = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Point</a>(lon, lat);</div>
<div class="line"><span class="keyword">auto</span> j3d = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Point</a>(lon, lat, alt);</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Type::Point</a></div><div class="ttdeci">@ Point</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
MultiPoint</h2>
<p>In order to encode a MultiPoint, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a3cd60571b78c0f0e0cd78c2f96127bc0">geojson::MultiPoint()</a></code>. For example,</p>
<div class="fragment"><div class="line">std::vector&lt;std::array&lt;double, 2&gt;&gt; pts{</div>
<div class="line">    {-40.5, 32.2}, {-39, 33.1}, {-39.5, 33.02}</div>
<div class="line">};</div>
<div class="line"><span class="keyword">auto</span> j = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a3cd60571b78c0f0e0cd78c2f96127bc0">geojson::MultiPoint</a>(pts.size(), [&amp;pts](<span class="keywordtype">size_t</span> pt, <span class="keywordtype">double</span>&amp; lon, <span class="keywordtype">double</span>&amp; lat) {</div>
<div class="line">  lon = pts[pt][0];</div>
<div class="line">  lat = pts[pt][1];</div>
<div class="line">});</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a3cd60571b78c0f0e0cd78c2f96127bc0"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a3cd60571b78c0f0e0cd78c2f96127bc0">geojson::Type::MultiPoint</a></div><div class="ttdeci">@ MultiPoint</div></div>
</div><!-- fragment --><p> The callback can also take a third <code>double&amp;</code> for altitude.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
LineString</h2>
<p>In order to encode a LineString, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2e321465690359abbb020a3619b1c937">geojson::LineString()</a></code>. For example,</p>
<div class="fragment"><div class="line">std::vector&lt;std::array&lt;double, 2&gt;&gt; pts{</div>
<div class="line">    {-40.5, 32.2}, {-39, 33.1}, {-39.5, 33.02}</div>
<div class="line">};</div>
<div class="line"><span class="keyword">auto</span> j = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2e321465690359abbb020a3619b1c937">geojson::LineString</a>(pts.size(), [&amp;pts](<span class="keywordtype">size_t</span> pt, <span class="keywordtype">double</span>&amp; lon, <span class="keywordtype">double</span>&amp; lat) {</div>
<div class="line">  lon = pts[pt][0];</div>
<div class="line">  lat = pts[pt][1];</div>
<div class="line">});</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a2e321465690359abbb020a3619b1c937"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2e321465690359abbb020a3619b1c937">geojson::Type::LineString</a></div><div class="ttdeci">@ LineString</div></div>
</div><!-- fragment --><p> The callback can also take a third <code>double&amp;</code> for altitude.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
MultiLineString</h2>
<p>In order to encode a MultiLineString, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a6d0b0e1d146d35399060c10baabed5d6">geojson::MultiLineString()</a></code>. The first callback is used to determine the length of each line string and the second is used for getting the points in each line string. For example,</p>
<div class="fragment"><div class="line">std::vector&lt;std::vector&lt;std::array&lt;double, 2&gt;&gt;&gt; pts{</div>
<div class="line">    {{-40.5, 32.2}, {-39, 33.1}, {-39.5, 33.02}},</div>
<div class="line">    {{-35.1, 10}, {-35.2, 10.1}}</div>
<div class="line">};</div>
<div class="line"><span class="keyword">auto</span> j = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a6d0b0e1d146d35399060c10baabed5d6">geojson::MultiLineString</a>(pts.size(),</div>
<div class="line">    [&amp;pts](<span class="keywordtype">size_t</span> line) { return pts[line].size(); },</div>
<div class="line">    [&amp;pts](<span class="keywordtype">size_t</span> line, <span class="keywordtype">size_t</span> pt, <span class="keywordtype">double</span>&amp; lon, <span class="keywordtype">double</span>&amp; lat) {</div>
<div class="line">      lon = pts[line][pt][0];</div>
<div class="line">      lat = pts[line][pt][1];</div>
<div class="line">    });</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a6d0b0e1d146d35399060c10baabed5d6"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a6d0b0e1d146d35399060c10baabed5d6">geojson::Type::MultiLineString</a></div><div class="ttdeci">@ MultiLineString</div></div>
</div><!-- fragment --><p> The callback can also take a third <code>double&amp;</code> for altitude.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Polygon</h2>
<p>In order to encode a Polygon, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a4c0a11247d92f73fb84baa51e37a3263">geojson::Polygon()</a></code>. The first callback is used to determine the length of each linear ring and the second is used for getting the points in each ring. The function handles the clockwise and counter-clockwise ordering, as well as closing the rings. For example, </p><div class="fragment"><div class="line">std::vector&lt;std::array&lt;double, 3&gt;&gt; outer{</div>
<div class="line">    {0, 0, 0.5}, {1.5, 0, 0.3}, {1.5, 1.5, 0.6}, {0, 1.5, 0.9}};</div>
<div class="line">std::vector&lt;std::vector&lt;std::array&lt;double, 3&gt;&gt;&gt; inners{</div>
<div class="line">    {{0.25, 0.25, 0.5}, {0.35, 0.75, 0.6}, {0.5, 0.25, 0.7}},</div>
<div class="line">    {{1, 0.25, 0.5}, {1.25, 0.25, 0.6}, {1.125, 0.5, 0.7}}};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> j = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a4c0a11247d92f73fb84baa51e37a3263">geojson::Polygon</a>(</div>
<div class="line">    inners.size() + 1,</div>
<div class="line">    [&amp;](<span class="keywordtype">size_t</span> ring) {</div>
<div class="line">      return ring == 0 ? outer.size() : inners[ring - 1].size();</div>
<div class="line">    },</div>
<div class="line">    [&amp;](<span class="keywordtype">size_t</span> ring, <span class="keywordtype">size_t</span> pt, <span class="keywordtype">double</span>&amp; lon, <span class="keywordtype">double</span>&amp; lat,</div>
<div class="line">                    <span class="keywordtype">double</span>&amp; alt) {</div>
<div class="line">      if (ring == 0) {</div>
<div class="line">        lon = outer[pt][0];</div>
<div class="line">        lat = outer[pt][1];</div>
<div class="line">        alt = outer[pt][2];</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        lon = inners[ring - 1][pt][0];</div>
<div class="line">        lat = inners[ring - 1][pt][1];</div>
<div class="line">        alt = inners[ring - 1][pt][2];</div>
<div class="line">      }</div>
<div class="line">    ));</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a4c0a11247d92f73fb84baa51e37a3263"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a4c0a11247d92f73fb84baa51e37a3263">geojson::Type::Polygon</a></div><div class="ttdeci">@ Polygon</div></div>
</div><!-- fragment --><p> If you don't want altitude, the last <code>double&amp;</code> can be omitted.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
MultiPolygon</h1>
<p>In order to encode a MultiPolygon, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a5645dd61a1073a52cf2476fd28f04a3b">geojson::MultiPolygon()</a></code>. The first callback is used to determine the number of rings in each polygon, the second is used to determine the length of each linear ring in each polygon and the third is used for getting the points in each ring. The function handles the clockwise and counter-clockwise ordering, as well as closing the rings. For example, </p><div class="fragment"><div class="line">std::vector&lt;std::vector&lt;std::array&lt;double, 3&gt;&gt;&gt; outers{</div>
<div class="line">    {{0, 0, 0.5}, {1.5, 0, 0.3}, {1.5, 1.5, 0.6}, {0, 1.5, 0.9}},</div>
<div class="line">    {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}}};</div>
<div class="line">std::vector&lt;std::vector&lt;std::vector&lt;std::array&lt;double, 3&gt;&gt;&gt;&gt; inners{</div>
<div class="line">    {{{0.25, 0.25, 0.5}, {0.35, 0.75, 0.6}, {0.5, 0.25, 0.7}},</div>
<div class="line">     {{1, 0.25, 0.5}, {1.25, 0.25, 0.6}, {1.125, 0.5, 0.7}}},</div>
<div class="line">    {}};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> j = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a5645dd61a1073a52cf2476fd28f04a3b">geojson::MultiPolygon</a>(</div>
<div class="line">    outers.size(),</div>
<div class="line">    [&amp;](<span class="keywordtype">size_t</span> poly) { return inners[poly].size() + 1; },</div>
<div class="line">    [&amp;](<span class="keywordtype">size_t</span> poly, <span class="keywordtype">size_t</span> ring) {</div>
<div class="line">      return ring == 0 ? outers[poly].size() : inners[poly][ring - 1].size();</div>
<div class="line">    },</div>
<div class="line">    [&amp;](<span class="keywordtype">size_t</span> poly, <span class="keywordtype">size_t</span> ring, <span class="keywordtype">size_t</span> pt, <span class="keywordtype">double</span>&amp; lon, <span class="keywordtype">double</span>&amp; lat,</div>
<div class="line">        <span class="keywordtype">double</span>&amp; alt) {</div>
<div class="line">      if (ring == 0) {</div>
<div class="line">        lon = outers[poly][pt][0];</div>
<div class="line">        lat = outers[poly][pt][1];</div>
<div class="line">        alt = outers[poly][pt][2];</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        lon = inners[poly][ring - 1][pt][0];</div>
<div class="line">        lat = inners[poly][ring - 1][pt][1];</div>
<div class="line">        alt = inners[poly][ring - 1][pt][2];</div>
<div class="line">      }</div>
<div class="line">    });</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a5645dd61a1073a52cf2476fd28f04a3b"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a5645dd61a1073a52cf2476fd28f04a3b">geojson::Type::MultiPolygon</a></div><div class="ttdeci">@ MultiPolygon</div></div>
</div><!-- fragment --><p> If you don't want altitude, the last <code>double&amp;</code> can be omitted.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Feature</h1>
<p>In order to encode a Feature, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a21021ea0e52be8e9c599f4dff41e5be0">geojson::Feature()</a></code>. For example, </p><div class="fragment"><div class="line"><span class="keyword">struct </span>Props {</div>
<div class="line">  Props(<span class="keyword">const</span> std::string&amp; _name) : name(_name) {}</div>
<div class="line">  std::string name;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> to_json(nlohmann::json&amp; j, <span class="keyword">const</span> Props&amp; props) {</div>
<div class="line">  <span class="keywordflow">return</span> nlohmann::json{{<span class="stringliteral">&quot;name&quot;</span>, props.name}};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> j1 = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a21021ea0e52be8e9c599f4dff41e5be0">geojson::Feature</a>(<span class="stringliteral">&quot;id1&quot;</span>, <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Point</a>(-40, 30),</div>
<div class="line">                           nlohmann::json(Props(<span class="stringliteral">&quot;foo&quot;</span>)));</div>
<div class="line"><span class="keyword">auto</span> j2 = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a21021ea0e52be8e9c599f4dff41e5be0">geojson::Feature</a>(2, <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Point</a>(-40, 30),</div>
<div class="line">                           nlohmann::json(Props(<span class="stringliteral">&quot;foo2&quot;</span>)));</div>
<div class="line"><span class="keyword">auto</span> j3 = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a21021ea0e52be8e9c599f4dff41e5be0">geojson::Feature</a>(<a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a2a3cd5946cfd317eb99c3d32e35e2d4c">geojson::Point</a>(-40, 30),</div>
<div class="line">                           nlohmann::json(Props(<span class="stringliteral">&quot;foo2&quot;</span>)));</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a21021ea0e52be8e9c599f4dff41e5be0"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a21021ea0e52be8e9c599f4dff41e5be0">geojson::Type::Feature</a></div><div class="ttdeci">@ Feature</div></div>
</div><!-- fragment --><p> In the case of <code>j3</code>, no <code>"id"</code> element will be added to the feature.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
FeatureCollection</h1>
<p>In order to encode a Feature, use <code><a class="el" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a22aa725992a7197c5ca13ee8509d4c6e">geojson::FeatureCollection()</a></code>. The callback is used to get the features in the collection. For example,</p>
<div class="fragment"><div class="line">std::vector&lt;std::array&lt;double, 2&gt;&gt; pts{</div>
<div class="line">    {-40.5, 32.2}, {-39, 33.1}, {-39.5, 33.02}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> j = <a class="code hl_enumvalue" href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a22aa725992a7197c5ca13ee8509d4c6e">geojson::FeatureCollection</a>(pts.size(), [&amp;](<span class="keywordtype">size_t</span> i) {</div>
<div class="line">  return geojson::Feature(</div>
<div class="line">      i, geojson::Point(pts[i][0], pts[i][1]),</div>
<div class="line">      nlohmann::json(Props(std::string(<span class="stringliteral">&quot;foo&quot;</span>) + std::to_string(i))));</div>
<div class="line">});</div>
<div class="ttc" id="anamespacegeojson_html_abdd1b5f9454412c34258b644119c3464a22aa725992a7197c5ca13ee8509d4c6e"><div class="ttname"><a href="namespacegeojson.html#abdd1b5f9454412c34258b644119c3464a22aa725992a7197c5ca13ee8509d4c6e">geojson::Type::FeatureCollection</a></div><div class="ttdeci">@ FeatureCollection</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 2 2026 02:50:55 for libgeojson by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
